body { 
    background: #ffffff; 
    color: #111111; 
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif; 
    margin: 0; 
    overflow: hidden; 
}

.dashboard-grid { 
    display: flex; 
    flex-direction: column; 
    padding: 40px; 
    gap: 30px; 
    height: 100vh; 
    box-sizing: border-box; 
}

.header { 
    display: flex; 
    justify-content: space-between; 
    border-bottom: 1px solid #f0f0f0; 
    padding-bottom: 15px; 
}

.main-stage { display: flex; gap: 60px; flex: 1; align-items: flex-start; }

.sidebar-container { 
    display: flex; 
    flex-direction: column; 
    gap: 20px; 
    width: 380px; 
    height: 480px;
    border-left: 1px solid #f0f0f0; 
    padding-left: 40px; 
}

.res-label { 
    font-size: 10px; 
    font-weight: 700; 
    color: #bbbbbb; 
    letter-spacing: 1.5px; 
    margin-bottom: 10px; 
    text-transform: uppercase;
}

/* Worker Cards - Minimalist White */
.worker-list { display: flex; flex-direction: column; gap: 8px; flex-grow: 1; overflow-y: auto; }

.worker-card { 
    background: #ffffff; 
    border: 1px solid #f0f0f0; 
    padding: 15px; 
    cursor: pointer; 
    transition: all 0.15s ease;
}

.worker-card:hover { background: #f9f9f9; }

.worker-card.active { 
    border-color: #111111; 
    background: #ffffff;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.worker-card .id { font-size: 11px; font-weight: 800; color: #111; }
.worker-card .meta { font-size: 10px; color: #999; margin-top: 5px; font-family: monospace; }

.minimal-table { width: 100%; border-collapse: collapse; font-size: 12px; margin-top: 10px; }
.minimal-table td { padding: 10px 0; border-bottom: 1px solid #f5f5f5; color: #444; }
.minimal-table td:last-child { text-align: right; font-weight: 600; color: #111; }

/* Chessboard Customization */
#board { 
    border: 1px solid #eeeeee;
}

.heatmap-grid {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    width: 120px; /* Adjust to fit your sidebar */
    height: 120px;
    gap: 1px;
    background: #f0f0f0;
    border: 1px solid #eee;
    margin-bottom: 20px;
}

.h-cell {
    background: #fff;
    width: 100%;
    height: 100%;
}

/* ... keep your body and header styles ... */

.main-stage { 
    display: flex; 
    gap: 40px; 
    flex: 1; 
}

.sidebar-container { 
    display: flex; 
    flex-direction: column; 
    width: 350px; 
    border-left: 1px solid #f0f0f0; 
    padding-left: 30px;
    gap: 25px;
}

/* 2x2 Grid for workers so they don't take up vertical space */
.worker-list { 
    display: grid; 
    grid-template-columns: 1fr 1fr; 
    gap: 10px; 
}

.worker-card { 
    background: #fff; 
    border: 1px solid #f0f0f0; 
    padding: 10px; 
    cursor: pointer; 
    transition: all 0.1s;
}

.worker-card.active { 
    border-color: #000; 
    background: #fafafa;
}

.worker-card .id { font-size: 9px; font-weight: bold; color: #111; }
.worker-card .meta { font-size: 8px; color: #aaa; font-family: monospace; overflow: hidden; white-space: nowrap; }

/* Heatmap Grid Styling */
.heatmap-grid { 
    display: grid; 
    grid-template-columns: repeat(8, 1fr); 
    width: 160px; 
    height: 160px; 
    gap: 1px; 
    background: #f0f0f0; 
    border: 1px solid #eee;
}

.h-cell { 
    background: #fff; 
    width: 100%; 
    height: 100%; 
}

.minimal-table td { font-size: 11px; padding: 6px 0; }

body { background: #fff; color: #111; font-family: sans-serif; margin: 0; overflow: hidden; }
.dashboard-grid { display: flex; flex-direction: column; padding: 40px; gap: 30px; height: 100vh; box-sizing: border-box; }

.header { display: flex; justify-content: space-between; border-bottom: 1px solid #f0f0f0; padding-bottom: 10px; }

/* Upper Section */
.main-stage { display: flex; gap: 40px; height: 480px; }
.sidebar-container { 
    display: flex; 
    flex-direction: column; 
    width: 320px; 
    border-left: 1px solid #f0f0f0; 
    padding-left: 20px; 
    height: 100%;
}

.worker-list { 
    flex-grow: 1; 
    overflow-y: auto; 
    margin-bottom: 15px;
    padding-right: 5px;
}

/* Scrollbar styling for that clean look */
.worker-list::-webkit-scrollbar { width: 4px; }
.worker-list::-webkit-scrollbar-thumb { background: #eee; border-radius: 10px; }

.worker-card { 
    border: 1px solid #f0f0f0; 
    padding: 12px; 
    margin-bottom: 8px;
    cursor: pointer; 
    background: #fff; 
    transition: 0.1s;
}
.worker-card.active { border-color: #000; background: #fafafa; }
.worker-card .id { font-size: 10px; font-weight: bold; margin-bottom: 4px; }
.worker-card .meta { font-size: 9px; color: #bbb; font-family: monospace; }

/* Bottom Section */
.research-row { display: flex; gap: 40px; border-top: 1px solid #f0f0f0; padding-top: 20px; }

.heatmap-grid { 
    display: grid; 
    grid-template-columns: repeat(8, 1fr); 
    width: 110px; 
    height: 110px; 
    gap: 1px; 
    background: #f9f9f9; 
}
.h-cell { background: #fff; width: 100%; height: 100%; }

.chart-card-wide { flex: 1; min-width: 0; height: 180px; position: relative; }
.res-label { font-size: 9px; font-weight: bold; color: #bbb; letter-spacing: 1px; margin-bottom: 10px; text-transform: uppercase; }

.minimal-table { width: 100%; border-collapse: collapse; font-size: 11px; }
.minimal-table td { padding: 6px 0; color: #333; }
.minimal-table td:last-child { text-align: right; font-weight: bold; }

/* Vertical Log Style Workers */
.worker-list {
    flex-grow: 1;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 8px; /* Vertical gap between rows */
}

.worker-card {
    border: 1px solid #f0f0f0;
    padding: 10px 15px;
    background: #fff;
    cursor: pointer;
    transition: background 0.2s;
}

.worker-card:hover { background: #fbfbfb; }
.worker-card.active { border-color: #000; background: #fafafa; }

.worker-row-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 4px;
}

.worker-card .id { font-size: 10px; font-weight: bold; color: #111; }
.status-tag { font-size: 8px; color: #bbb; text-transform: uppercase; letter-spacing: 0.5px; }
.worker-card .meta { font-size: 9px; color: #ccc; font-family: monospace; }

.research-row { 
    display: flex; 
    gap: 20px; 
    border-top: 1px solid #f0f0f0; 
    padding-top: 20px; 
    height: 220px; /* Fixed height for the bottom row */
}

.chart-card-small {
    width: 150px;
    height: 180px;
}

.chart-card-wide {
    flex: 1;
    min-width: 0;
    height: 180px;
}

.chart-inner {
    width: 100%;
    height: 100%;
    position: relative;
}

.research-grid {
    display: flex;
    flex-wrap: wrap; /* This is the fix for squishing */
    gap: 20px;
    padding-top: 20px;
    border-top: 1px solid #f0f0f0;
}

.chart-card {
    flex: 1 1 300px; /* Grow, shrink, but try to stay at 300px base */
    min-height: 200px;
    background: #fff;
    border: 1px solid #f0f0f0;
    padding: 15px;
}

.history-controls {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-top: 10px;
}

.history-controls button {
    background: #fff;
    border: 1px solid #ddd;
    padding: 5px 15px;
    cursor: pointer;
    font-size: 12px;
}

.history-controls button.active {
    background: #111;
    color: #fff;
}

.research-grid {
    display: flex;
    flex-wrap: wrap; /* Allows charts to go to row 2 and 3 */
    gap: 20px;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid #f0f0f0;
}

.chart-card, .chart-card-wide {
    flex: 1 1 300px; /* Base width of 300px, but grow to fill space */
    min-height: 220px;
    background: #fff;
    border: 1px solid #f0f0f0;
    padding: 15px;
}

/* Container for all the diagnostic charts */
.research-grid {
    display: grid;
    /* This creates as many 350px columns as will fit, then wraps the rest */
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); 
    gap: 25px;
    margin-top: 30px;
    padding-top: 30px;
    border-top: 1px solid #f0f0f0;
    overflow-y: visible; /* Ensure it doesn't clip when growing downwards */
}

/* Individual Chart Cards */
.chart-card, .chart-card-wide {
    background: #fff;
    border: 1px solid #f0f0f0;
    padding: 20px;
    min-height: 250px; /* Gives charts enough vertical room */
    display: flex;
    flex-direction: column;
}

/* Ensure the canvas fills the card but stays contained */
.chart-inner {
    flex-grow: 1;
    position: relative;
    width: 100%;
    height: 100%;
}

/* Heatmap specific sizing to keep it square */
.heatmap-grid {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    width: 160px;
    height: 160px;
    gap: 1px;
    background: #f0f0f0;
    margin: 0 auto; /* Center it in its card */
}

.dashboard-grid {
    display: flex;
    flex-direction: column;
    padding: 40px;
    gap: 30px;
    height: 100vh;
    box-sizing: border-box;
    overflow-y: auto; /* Change this from hidden to auto */
}